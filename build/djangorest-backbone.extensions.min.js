define(function(e){"use strict";var t=e("backbone");var i=e("underscore");t.DRF={idAttribute:"id"};t.DRF.Model=t.Model.extend({idAttribute:t.DRF.idAttribute,genericRelationField:"",genericRelationMapping:{},parse:function(e,t){if(!i.isEmpty(this.genericRelationField)){var s=e[this.genericRelationField];if(!i.isUndefined(s)){s=n(s);var a=r(s);var l=!i.isEmpty(this.genericRelationMapping)?this.genericRelationMapping[a.key]:a.key;e[l]=a.value}}return e},save:function(e){if(!i.isEmpty(this.genericRelationField)){var s=this.get(this.genericRelationField);s=n(s);var a=r(s);var l=!i.isEmpty(this.genericRelationMapping)?this.genericRelationMapping[a.key]:a.key;delete this.attributes[l]}return t.Model.prototype.save.call(this,e)},url:function(){var e=i.result(this,"urlRoot")||this.collection&&i.result(this.collection,"url");if(!this.isNew()){e=n(e)+this.id}return n(e)}});t.DRF.Collection=t.Collection.extend({parse:function(e){this.count=e.count;this.next=e.next;this.previous=e.previous;return e&&e.results||e},getNextPage:function(e){if(!this.next){return null}var t=e||{};var i=this.next.split("?")[1];t.data=i;return this.fetch(t)},getPreviousPage:function(e){if(!this.previous){return null}var t=e||{};var i=this.previous.split("?")[1];t.data=i;return this.fetch(t)}});var n=function(e){return e+(e.length>0&&e.charAt(e.length-1)==="/"?"":"/")};var r=function(e){var t=e.split("/");t.pop();var i=t.pop();var n=t.pop();return{key:n,value:i}}});
//# sourceMappingURL=build/djangorest-backbone.extensions.min.map